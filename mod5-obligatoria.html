<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Entrega P2P obligatoria | Calculadora</title>
    <link rel="stylesheet" href="css/style.css" media="screen" type="text/css">
    <script type="text/javascript"
            src="jquery-2.1.4.min.js">
    </script>

    <script type="text/javascript">
      var op_bin="";

      $(function() {
        $("#numero").on("click", function(){
          $("#numero").val("");
        });

        //operaciones unitarias
        $("#cuadrado").on("click", function(){
          var num = $("#numero");
          num.val(num.val() * num.val());
        });

        $("#inverso").on("click", function(){
          var num = $("#numero");
          num.val(1/num.val());
        });

        $("#raiz2").on("click", function(){
          var num = $("#numero");
          num.val(Math.sqrt(num.val()));
        });

        $("#parte_entera").on("click", function(){
          var num = $("#numero");
          if (num.val()>0)
            num.val(Math.floor(num.val()));
          if (num.val()<0)
            num.val(Math.ceil(num.val()));
        });

        $("#dospotencian").on("click", function(){
          var num = $("#numero");
          num.val(Math.pow(2,num.val()));
        });

        $("#factorial").on("click", function(){
          var res=1, num=$("#numero");
          for (var i=1; i<=num.val(); i++)
            res *= i;
          num.val(res);
        });

        //operaciones binarias
        $(".op").on("click", function(){
          op_bin="";
          var op = $(this).attr("href");
          var num = $("#numero");
          op_bin = num.val() + op;;
        });

        $("#calcular").on("click", function(){
          var num = $("#numero");
          op_bin += num.val();
          num.val(eval(op_bin));
        });

        //Operaciones con n operandos introducidos en formato CSV
        $("#sumatorio").on("click", function(){
          var res = 0;
          var lista = $("#numero").val().split(",");
          for (var i=0; i< lista.length; i++){
            res+= +lista[i];
          }
          $("#numero").val(res);
        })

        $("#producto").on("click", function(){
          var res = 1;
          var lista = $("#numero").val().split(",");
          for (var i=0; i< lista.length; i++){
            res*= +lista[i];
          }
          $("#numero").val(res);
        })

      });
    </script>
  </head>
  <body>
    <h1>Buenos días, bienvenido a la calculadora de Azucena Reyes</h1>
    <div class="calculadora">
      <p>Número:
        <input type="text" id="numero"><p>
        Operaciones Unitarias
      </p>
      <p>
        <button id="cuadrado">x^2</button>
        <button id="inverso"> 1/x </button>
        <button id="raiz2"> sqrt(x) </button>
        <button id="parte_entera"> Entero(x)</button>
        <button id="dospotencian">2^n</button>
        <button id="factorial">n!</button>
      </p>
      <p>
        Operaciones binarias
      </p>
      <p>
        <button class="op" href="+">&nbsp;+&nbsp;</button>
        <button class="op" href="-">&nbsp;-&nbsp;</button>
        <button class="op" href="*">&nbsp;*&nbsp;</button>
        <button class="op" href="/">&nbsp;/&nbsp;</button>
        <button class="op" href="**">&nbsp;x^y&nbsp;</button>
        <button id="calcular">&nbsp;=&nbsp;</button>
      </p>
      <p>
        Operaciones con n operandos introducidos en formato CSV
      </p>
      <p>
        <button id="sumatorio">&nbsp;Σ x&nbsp;</button>
        <button id="producto">producto(x)</button>
      </p>
    </div>
    <footer>
        Elaborado por: Azucena Reyes
    </footer>
  </body>
</html>
